var mongoose = require("mongoose"),	bcrypt   = require("bcrypt-nodejs"),	AdminSchema;	mongoose.connect("mongodb://localhost/admin");	AdminSchema = new mongoose.Schema({		username : {type: String, required : true, unique : true},		password : {type: String, required : true}	});	AdminSchema.pre('save', function(next){		this.password = this.encryptPassword(this.password);		next();	});	AdminSchema.methods = {		authenticate : function(plaintext){			return bcrypt.compareSync(plaintext, this.password);		},		encryptPassword : (plaintext) => {			if(!plaintext){ return next(new Error("please enter username or password"));}			var salt = bcrypt.genSaltSync();			return bcrypt.hashSync(plaintext, salt);		}	}	module.exports = mongoose.model("admin", AdminSchema);